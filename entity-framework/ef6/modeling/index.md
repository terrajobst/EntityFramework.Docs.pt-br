---
title: Criando um modelo – EF6
author: divega
ms.date: 07/05/2018
ms.assetid: 4890228E-CEA1-4595-B8AD-CA81253F8767
ms.openlocfilehash: bd9843a93121f53518a307c9d2d43b68ae03369c
ms.sourcegitcommit: cc0ff36e46e9ed3527638f7208000e8521faef2e
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78413461"
---
# <a name="creating-a-model"></a><span data-ttu-id="04060-102">Criar um Modelo</span><span class="sxs-lookup"><span data-stu-id="04060-102">Creating a Model</span></span>

<span data-ttu-id="04060-103">Um modelo do EF armazena os detalhes sobre como as propriedades e classes de aplicativo são mapeadas para colunas e tabelas de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="04060-103">An EF model stores the details about how application classes and properties map to database tables and columns.</span></span> <span data-ttu-id="04060-104">Existem duas maneiras principais de criar um modelo do EF:</span><span class="sxs-lookup"><span data-stu-id="04060-104">There are two main ways to create an EF model:</span></span>

- <span data-ttu-id="04060-105">**Usar o Code First**: o desenvolvedor escreve o código para especificar o modelo.</span><span class="sxs-lookup"><span data-stu-id="04060-105">**Using Code First**: The developer writes code to specify the model.</span></span> <span data-ttu-id="04060-106">O EF gera os modelos e os mapeamentos em runtime com base em classes de entidade e configurações de modelo adicionais fornecidas pelo desenvolvedor.</span><span class="sxs-lookup"><span data-stu-id="04060-106">EF generates the models and mappings at runtime based on entity classes and additional model configuration provided by the developer.</span></span>

- <span data-ttu-id="04060-107">**Usar o EF Designer**: o desenvolvedor desenha caixas e linhas para especificar o modelo usando o EF Designer.</span><span class="sxs-lookup"><span data-stu-id="04060-107">**Using the EF Designer**: The developer draws boxes and lines to specify the model using the EF Designer.</span></span> <span data-ttu-id="04060-108">O modelo resultante é armazenado como XML em um arquivo com a extensão EDMX.</span><span class="sxs-lookup"><span data-stu-id="04060-108">The resulting model is stored as XML in a file with the EDMX extension.</span></span> <span data-ttu-id="04060-109">Os objetos de domínio do aplicativo normalmente são gerados de forma automática com base no modelo conceitual.</span><span class="sxs-lookup"><span data-stu-id="04060-109">The application's domain objects are typically generated automatically from the conceptual model.</span></span>

## <a name="ef-workflows"></a><span data-ttu-id="04060-110">Fluxos de trabalho do EF</span><span class="sxs-lookup"><span data-stu-id="04060-110">EF workflows</span></span>

<span data-ttu-id="04060-111">Essas duas abordagens podem ser usadas para visar um banco de dados existente ou criar um novo banco de dados, resultando em quatro fluxos de trabalho diferentes.</span><span class="sxs-lookup"><span data-stu-id="04060-111">Both of these approaches can be used to target an existing database or create a new database, resulting in 4 different workflows.</span></span>
<span data-ttu-id="04060-112">Saiba sobre qual é melhor para você:</span><span class="sxs-lookup"><span data-stu-id="04060-112">Find out about which one is best for you:</span></span>  

|                                           | <span data-ttu-id="04060-113">Eu quero apenas escrever o código...</span><span class="sxs-lookup"><span data-stu-id="04060-113">I just want to write code...</span></span>                                                                                                                   | <span data-ttu-id="04060-114">Eu quero usar um designer...</span><span class="sxs-lookup"><span data-stu-id="04060-114">I want to use a designer...</span></span>                                                                                                                        |
|:------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="04060-115">**Estou criando um novo banco de dados**</span><span class="sxs-lookup"><span data-stu-id="04060-115">**I am creating a new database**</span></span>          | [<span data-ttu-id="04060-116">Use o **Code First** para definir o modelo no código e, em seguida, gerar um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="04060-116">Use **Code First** to define your model in code and then generate a database.</span></span>](~/ef6/modeling/code-first/workflows/new-database.md)           | [<span data-ttu-id="04060-117">Use o **Model First** para definir o modelo usando caixas e linhas e, em seguida, gerar um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="04060-117">Use **Model First** to define your model using boxes and lines and then generate a database.</span></span>](~/ef6/modeling/designer/workflows/model-first.md)   |
| <span data-ttu-id="04060-118">**Preciso acessar um banco de dados existente**</span><span class="sxs-lookup"><span data-stu-id="04060-118">**I need to access an existing database**</span></span> | [<span data-ttu-id="04060-119">Use o **Code First** para criar um modelo baseado em código que seja mapeado para um banco de dados existente.</span><span class="sxs-lookup"><span data-stu-id="04060-119">Use **Code First** to create a code based model that maps to an existing database.</span></span>](~/ef6/modeling/code-first/workflows/existing-database.md) | [<span data-ttu-id="04060-120">Use o **Database First** para criar um modelo de caixas e linhas que é mapeado para um banco de dados existente.</span><span class="sxs-lookup"><span data-stu-id="04060-120">Use **Database First** to create a boxes and lines model that maps to an existing database.</span></span>](~/ef6/modeling/designer/workflows/database-first.md) |

### <a name="watch-the-video-what-ef-workflow-should-i-use"></a><span data-ttu-id="04060-121">Assista ao vídeo: Qual fluxo de trabalho do EF devo usar?</span><span class="sxs-lookup"><span data-stu-id="04060-121">Watch the video: What EF workflow should I use?</span></span>

<span data-ttu-id="04060-122">Este breve vídeo explica as diferenças e como encontrar o que é ideal para você.</span><span class="sxs-lookup"><span data-stu-id="04060-122">This short video explains the differences, and how to find the one that is right for you.</span></span>

<span data-ttu-id="04060-123">**Apresentado por**: [Rowan Miller](https://romiller.com/)</span><span class="sxs-lookup"><span data-stu-id="04060-123">**Presented By**: [Rowan Miller](https://romiller.com/)</span></span>

<span data-ttu-id="04060-124">![Which Workflow Thumb](../media/whichworkflow-thumb.png) [WMV](https://download.microsoft.com/download/8/F/8/8F81F4CD-3678-4229-8D79-0C63FFA3C595/HDI_ITPro_Technet_winvideo_ChoseYourWorkflow.wmv) | [MP4](https://download.microsoft.com/download/8/F/8/8F81F4CD-3678-4229-8D79-0C63FFA3C595/HDI_ITPro_Technet_mp4video_ChoseYourWorkflow.m4v) | [WMV (ZIP)](https://download.microsoft.com/download/8/F/8/8F81F4CD-3678-4229-8D79-0C63FFA3C595/HDI_ITPro_Technet_winvideo_ChoseYourWorkflow.zip)</span><span class="sxs-lookup"><span data-stu-id="04060-124">![Which Workflow Thumb](../media/whichworkflow-thumb.png) [WMV](https://download.microsoft.com/download/8/F/8/8F81F4CD-3678-4229-8D79-0C63FFA3C595/HDI_ITPro_Technet_winvideo_ChoseYourWorkflow.wmv) | [MP4](https://download.microsoft.com/download/8/F/8/8F81F4CD-3678-4229-8D79-0C63FFA3C595/HDI_ITPro_Technet_mp4video_ChoseYourWorkflow.m4v) | [WMV (ZIP)](https://download.microsoft.com/download/8/F/8/8F81F4CD-3678-4229-8D79-0C63FFA3C595/HDI_ITPro_Technet_winvideo_ChoseYourWorkflow.zip)</span></span>

<span data-ttu-id="04060-125">Se depois de assistir ao vídeo você ainda não se sentir confortável para decidir se deseja usar o EF Designer ou o Code First, aprenda os dois.</span><span class="sxs-lookup"><span data-stu-id="04060-125">If after watching the video you still don't feel comfortable deciding if you want to use the EF Designer or Code First, learn both!</span></span>

## <a name="a-look-under-the-hood"></a><span data-ttu-id="04060-126">Uma olhada nos bastidores</span><span class="sxs-lookup"><span data-stu-id="04060-126">A look under the hood</span></span>

<span data-ttu-id="04060-127">Independentemente de você usar o Code First ou o EF Designer, um modelo do EF sempre tem vários componentes:</span><span class="sxs-lookup"><span data-stu-id="04060-127">Regardless of whether you use Code First or the EF Designer, an EF model always has several components:</span></span>

- <span data-ttu-id="04060-128">Os objetos de domínio do aplicativo ou os próprios tipos de entidade.</span><span class="sxs-lookup"><span data-stu-id="04060-128">The application's domain objects or entity types themselves.</span></span> <span data-ttu-id="04060-129">Com frequência chamamos isso de camada de objeto</span><span class="sxs-lookup"><span data-stu-id="04060-129">This is often referred to as the object layer</span></span>

- <span data-ttu-id="04060-130">Um modelo conceitual, consistindo em tipos de entidade específicos de domínio e relacionamentos, descritos usando o [Modelo de Dados de Entidade](~/ef6/resources/glossary.md#entity-data-model).</span><span class="sxs-lookup"><span data-stu-id="04060-130">A conceptual model consisting of domain-specific entity types and relationships, described using the [Entity Data Model](~/ef6/resources/glossary.md#entity-data-model).</span></span> <span data-ttu-id="04060-131">Essa camada normalmente é referida com a letra “C”, para _conceitual_.</span><span class="sxs-lookup"><span data-stu-id="04060-131">This layer is often referred to with the letter "C", for _conceptual_.</span></span>

- <span data-ttu-id="04060-132">Um modelo de armazenamento que representam tabelas, colunas e relações, conforme definido no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="04060-132">A storage model representing tables, columns and relationships as defined in the database.</span></span> <span data-ttu-id="04060-133">Essa camada normalmente é referida com a letra “s”, para _storage (armazenamento)_ .</span><span class="sxs-lookup"><span data-stu-id="04060-133">This layer is often referred to with the later "S", for _storage_.</span></span>  

- <span data-ttu-id="04060-134">Um mapeamento entre o modelo conceitual e o esquema de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="04060-134">A mapping between the conceptual model and the database schema.</span></span> <span data-ttu-id="04060-135">Esse mapeamento é conhecido como mapeamento de "C-S".</span><span class="sxs-lookup"><span data-stu-id="04060-135">This mapping is often referred to as "C-S" mapping.</span></span>

<span data-ttu-id="04060-136">O mecanismo de mapeamento do EF utiliza o mapeamento de “C-S” para transformar as operações em entidades, como criar, ler, atualizar e excluir, em operações equivalentes em tabelas no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="04060-136">EF's mapping engine leverages the "C-S" mapping to transform operations against entities - such as create, read, update, and delete - into equivalent operations against tables in the database.</span></span>

<span data-ttu-id="04060-137">O mapeamento entre o modelo conceitual e os objetos do aplicativo é conhecido como mapeamento de "O-C".</span><span class="sxs-lookup"><span data-stu-id="04060-137">The mapping between the conceptual model and the application's objects is often referred to as "O-C" mapping.</span></span> <span data-ttu-id="04060-138">Em comparação com o mapeamento de "C-S", o mapeamento de "O-C" é implícito e de um para um: entidades, propriedades e relações definidas no modelo conceitual devem corresponder às formas e aos tipos dos objetos .NET.</span><span class="sxs-lookup"><span data-stu-id="04060-138">Compared to the "C-S" mapping, "O-C" mapping is implicit and one-to-one: entities, properties and relationships defined in the conceptual model are required to match the shapes and types of the .NET objects.</span></span> <span data-ttu-id="04060-139">Do EF4 e adiante, a camada de objetos pode ser composta por objetos simples com propriedades sem nenhuma dependência no EF.</span><span class="sxs-lookup"><span data-stu-id="04060-139">From EF4 and beyond, the objects layer can be composed of simple objects with properties without any dependencies on EF.</span></span> <span data-ttu-id="04060-140">Eles são geralmente conhecidos como objetos POCO (Objetos de CLR Antigos Planos) e o mapeamento de tipos e propriedades é realizado com base nas convenções de correspondência de nomes.</span><span class="sxs-lookup"><span data-stu-id="04060-140">These are usually referred to as Plain-Old CLR Objects (POCO) and mapping of types and properties is performed base on name matching conventions.</span></span> <span data-ttu-id="04060-141">Anteriormente, no EF 3.5 havia restrições específicas para a camada de objetos, como entidades precisando derivar da classe EntityObject e precisando carregar atributos do EF para implementar o mapeamento de “O-C”.</span><span class="sxs-lookup"><span data-stu-id="04060-141">Previously, in EF 3.5 there were specific restrictions for the object layer, like entities having to derive from the EntityObject class and having to carry EF attributes to implement the "O-C" mapping.</span></span>
